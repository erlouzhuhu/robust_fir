INCLUDE def_fir_basic.txt

SWAP.GLOBAL   #FFD    #1        ##Flip-Flop simulation delay

##check all input parameters have been given
CHECK CONST(ORDER)
CHECK CONST(COEFF_BITS)
CHECK CONST(DIN_BITS)
CHECK CONST(MAC_NUM)

IFDEF TRUE(MAC_NUM==1)
  SWAP ARCH serial
  SWAP LATENCY 1
ELSE TRUE(MAC_NUM==1)
  IFDEF TRUE(COEFF_NUM==MAC_NUM)
    SWAP ARCH parallel
    SWAP LATENCY ADD_STAGES
  ELSE TRUE(COEFF_NUM==MAC_NUM)
    SWAP ARCH Nserial
    SWAP LATENCY EXPR(LOG2(EXPR(COEFF_NUM/MAC_NUM))+1)
  ENDIF TRUE(COEFF_NUM==MAC_NUM)
ENDIF TRUE(MAC_NUM==1)
